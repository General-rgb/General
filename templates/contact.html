{% extends 'base.html' %}

{% block title %}联系我们 - 北京国清曦窗帘加工{% endblock %}

{% block extra_css %}
<style>
    .contact-header {
        background-color: var(--background-light);
        padding: 3rem 0;
        text-align: center;
    }
    
    .contact-header h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }
    
    .contact-header p {
        color: var(--text-light);
        max-width: 800px;
        margin: 0 auto;
    }
    
    .contact-container {
        padding: 4rem 0;
    }
    
    .contact-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 3rem;
    }
    
    .contact-info-card {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: var(--shadow);
        padding: 2rem;
    }
    
    .contact-info-list {
        margin-bottom: 2rem;
    }
    
    .contact-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 1.5rem;
    }
    
    .contact-icon {
        background-color: var(--primary-color);
        color: white;
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        flex-shrink: 0;
    }
    
    .contact-icon i {
        font-size: 1.25rem;
    }
    
    .contact-text h3 {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    
    .business-hours {
        margin-bottom: 2rem;
    }
    
    .hour-item {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
        border-bottom: 1px solid var(--border-color);
    }
    
    .hour-item:last-child {
        border-bottom: none;
    }
    
    .contact-form-card {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: var(--shadow);
        padding: 2rem;
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
    }
    
    .form-control {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid var(--border-color);
        border-radius: 0.375rem;
        font-family: inherit;
        transition: border-color 0.3s ease;
    }
    
    .form-control:focus {
        outline: none;
        border-color: var(--primary-color);
    }
    
    textarea.form-control {
        min-height: 150px;
        resize: vertical;
    }
    
    /* Map section styles */
    .map-section {
        padding: 4rem 0;
        background-color: var(--background-light);
    }
    
    .map-container {
        height: 450px;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: var(--shadow);
        margin-bottom: 2rem;
    }
    
    #baiduMap {
        width: 100%;
        height: 100%;
    }
    
    .map-info {
        text-align: center;
        max-width: 600px;
        margin: 0 auto;
    }
    
    .map-info p {
        color: var(--text-light);
        margin-bottom: 1rem;
    }
    
    @media (min-width: 768px) {
        .contact-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Contact Header -->
<section class="contact-header">
    <div class="container">
        <h1>联系我们</h1>
        <p>有任何疑问或需求，欢迎随时联系我们，我们将竭诚为您服务</p>
    </div>
</section>

<!-- Contact Information -->
<section class="contact-container">
    <div class="container">
        <div class="contact-grid">
            <div class="contact-info-card">
                <h2 class="section-title">联系方式</h2>
                <div class="contact-info-list">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-text">
                            <h3>电话</h3>
                            <p>13716958774</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-text">
                            <h3>邮箱</h3>
                            <p>2568055317@qq.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-text">
                            <h3>地址</h3>
                            <p>北京市顺义区李遂镇沟北村窗帘布艺大全（顺平南线店）</p>
                            <p><a href="#map-section" class="btn btn-outline" style="margin-top: 10px;">查看地图位置</a></p>
                        </div>
                    </div>
                </div>
                
                <h2 class="section-title">营业时间</h2>
                <div class="business-hours">
                    <div class="hour-item">
                        <span>周一至周五</span>
                        <span>9:00 - 18:00</span>
                    </div>
                    <div class="hour-item">
                        <span>周六</span>
                        <span>9:00 - 17:00</span>
                    </div>
                    <div class="hour-item">
                        <span>周日</span>
                        <span>10:00 - 16:00</span>
                    </div>
                </div>
            </div>
            
            <div class="contact-form-card">
                <h2 class="section-title">在线留言</h2>
                <form action="/submit-contact" method="POST">
                    <div class="form-group">
                        <label for="name" class="form-label">您的姓名</label>
                        <input type="text" id="name" name="name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone" class="form-label">联系电话</label>
                        <input type="tel" id="phone" name="phone" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="form-label">电子邮箱</label>
                        <input type="email" id="email" name="email" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="message" class="form-label">留言内容</label>
                        <textarea id="message" name="message" class="form-control" required></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">提交留言</button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Map Section -->
<section id="map-section" class="map-section">
    <div class="container">
        <h2 class="section-header">我们的位置</h2>
        <div class="map-container">
            <div id="baiduMap"></div>
        </div>
        <div class="map-info">
            <p>北京市顺义区李遂镇沟北村窗帘布艺大全（顺平南线店）</p>
            <p>如需导航，请扫描下方二维码或直接使用地图APP导航至上述地址</p>
            
            <div class="qr-code-container" style="margin-top: 20px; text-align: center;">
                <img id="mapQrCode" src="" alt="地图导航二维码" style="max-width: 180px; border: 1px solid #e5e7eb; padding: 10px; background: white; border-radius: 8px;">
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <a href="{{ url_for('map_view') }}" class="btn btn-primary">查看详细导航信息</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_BAIDU_MAP_KEY"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // 初始化百度地图
        function initMap() {
            // 创建地图实例
            var map = new BMap.Map("baiduMap");
            
            // 创建点坐标 (需要使用经纬度，这里使用默认值，实际使用时请替换为正确的经纬度)
            var point = new BMap.Point(116.518, 40.225); // 北京顺义区坐标，请替换为实际坐标
            
            // 初始化地图，设置中心点坐标和地图级别
            map.centerAndZoom(point, 15);
            
            // 添加地图控件
            map.addControl(new BMap.NavigationControl());    // 添加平移缩放控件
            map.addControl(new BMap.ScaleControl());         // 添加比例尺控件
            map.addControl(new BMap.OverviewMapControl());   // 添加缩略地图控件
            map.enableScrollWheelZoom();                     // 启用滚轮放大缩小
            
            // 创建标注
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
            
            // 创建信息窗口
            var infoWindow = new BMap.InfoWindow(
                "<div style='padding:10px;'>" +
                "<h4 style='margin:0 0 5px 0;'>北京国清曦窗帘加工部</h4>" +
                "<p style='margin:0;'>地址：北京市顺义区李遂镇沟北村窗帘布艺大全（顺平南线店）</p>" +
                "<p style='margin:5px 0 0 0;'>电话：13716958774</p>" +
                "</div>"
            );
            
            // 点击标注时显示信息窗口
            marker.addEventListener("click", function() {
                map.openInfoWindow(infoWindow, point);
            });
            
            // 自动打开信息窗口
            map.openInfoWindow(infoWindow, point);
            
            // 创建导航二维码
            // 使用百度地图提供的URL生成API创建二维码
            // 注意：实际应用中需要替换为准确的经纬度
            document.getElementById('mapQrCode').src = 'https://api.map.baidu.com/generateQR?width=180&height=180&url=' + 
                encodeURIComponent('https://api.map.baidu.com/direction?origin=&destination=北京市顺义区李遂镇沟北村窗帘布艺大全（顺平南线店）&mode=driving&region=北京&output=html');
        }
        
        // 调用初始化地图函数
        initMap();
    });
</script>
{% endblock %} 